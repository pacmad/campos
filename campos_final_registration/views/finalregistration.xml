<?xml version="1.0"?>
	<openerp>
		<data>
		
		<!-- Final Registration for admin-->
		<record id="view_form_finalregistration_admin" model="ir.ui.view">
			<field name="name">Final Registration Form Admin</field>
			<field name="model">event.registration</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="campos_preregistration.view_form_preregistration_admin" />
			<field name="arch" type="xml">
				<field name="econ_partner_id" position="after">
					<field name="total_price" readonly="1"/>
					<field name="child_certificates_accept"/>
					<field name="child_certificates_date"/>
					<field name="child_certificates_user"/>
					<field name="pioneering_pole_depot"/>
					<field colspan="2" name="friendhip_group_ids" widget="one2many_list" nolabel="0"  string="Friendship Groups">
						<tree editable="bottom">
							<field name="friendship_group_id"  options="{'no_create': True}"/>
						</tree>
					</field>
				</field>
				
				<field name="prereg_participant_ids" position="replace">
				</field>
				
				<page string="Pionering poles" position="replace">
				</page>

				<notebook position="inside">   
					<page string="Pre-registration">
						<field colspan="7" name="prereg_participant_ids" widget="one2many_list" readonly="1">
							<tree string="Participants" editable="bottom">
								<field name="participant_age_group_id"  options="{'no_create': True, 'no_open': True}"/>
                <field name="participant_total" sum="Total"/>
								<field name="participant_from_date"/>
								<field name="participant_to_date"/>
								<field name="participant_own_transport_to_camp_total" sum="Total"/>
                <field name="participant_own_transport_from_camp_total" sum="Total"/>
                <field name="participant_common_transport_to_camp_total" sum="Total"/>
                <field name="participant_common_transport_from_camp_total" sum="Total"/>
                <field name="participant_own_transport_type"  options="{'no_create': True}" attrs="{'readonly': [('participant_own_transport_to_camp_total', '=', 0),('participant_own_transport_from_camp_total', '=', 0)]}"/>
							</tree>
						</field>
						<field colspan="2" name="pioneeringpole_ids" widget="one2many_list" nolabel="1" readonly="1">
							<tree editable="bottom">
								<field name="pioneeringpole_id"  options="{'no_create': True}"/>
								<field name="polecount" sum="Total"/>
							</tree>
						</field>				
					</page>
				</notebook>

			</field>	
		</record>
		
		<!-- Menu Actions -->
		<act_window id="action_event_finalregistration_tree"
		name="Event Final Registration Tree"
		res_model="event.registration"
		view_mode="tree,form"  
		view_id="view_form_finalregistration_admin"/>
		
		<!-- sub menu -->
		<menuitem id="menu_event_finalregistration" parent="campos_event.menu_campos" name="Final Registration" groups="campos_event.group_campos_admin"/>

		<!-- Menu Items -->
		
		<menuitem id="menu_action_event_finalregistration_tree" parent="menu_event_finalregistration" name="Final Registration" action="action_event_finalregistration_tree" groups="campos_event.group_campos_admin" sequence="20"/>

		</data>
</openerp>
