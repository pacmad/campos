<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2016 Stein & Gabelgaard ApS
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->

<openerp>
<data>

    <record model="ir.ui.view" id="campos_event_participant_staff_form_view">
        <field name="name">campos.event.participant.form (in campos_jobber_final)</field>
        <field name="model">campos.event.participant</field>
        <field name="inherit_id" ref="campos_event.staff_event_registration_participant_form"/>
        <field name="arch" type="xml">
            <page name="agreements" position="before">
            	<page name="finalreg" string="Final signup">
            		<group>
            			<field name="signup_state"/>
            		</group>
            		<notebook attrs="{'invisible': [('signup_state', 'not in', ['oncamp','dayjobber'])]}">
            			<page string="Camp Days">
            				<group col="4">
            					<button name="check_all_maincamp_days" 
											type="object"    
											icon="fa-check-square-o"
											string="Check all days" class = "oe_edit_only oe_inline oe_stat_button"/>
							 
							<button name="check_all_first_half_days" 
											type="object"
											icon="fa-check-square-o"    
											string="Sat- to Wednesday" class = "oe_edit_only oe_inline oe_stat_button"/>
							<button name="check_all_second_half_days" 
											type="object"
											icon="fa-check-square-o"    
											string="Wed- to Sunday" class = "oe_edit_only oe_inline oe_stat_button"/>
            				<button name="uncheck_all_days" 
											type="object"    
											icon="fa-square-o"
											string="Un-check all days" class = "oe_edit_only oe_inline oe_stat_button"/>
            				</group>
            				 
							<field colspan="2" name="camp_day_ids" widget="one2many_list" nolabel="1">
								<tree delete="false" create="false" editable="bottom">
									<field name="the_date" readonly="1"/>
									<field name="day_id" invisible="1"/>
									<field name="will_participate"/>
								</tree>
							</field>
            			</page>
            			<page string="Accomodation" attrs="{'invisible': [('signup_state', '!=', 'oncamp')]}">>
							<field name="accomodation_ids" context="{'default_participant_id': id}">
								<tree editable="bottom">
									<field name="date_from"/>
									<field name="date_to"/>
									<field name="accom_type_id" options="{'no_create': True, 'no_open': True}"/>
									<field name="group_sel" invisible="1" />
									<field name="registration_id" string="Group" attrs="{'readonly': [('group_sel', '=', False)], 'required': [('group_sel', '=', True)]}" options="{'no_create': True, 'no_open': True}"/>
									<field name="state" readonly="1"/>
								</tree>
							</field>
						</page>
            			<page string="Catering" attrs="{'invisible': [('signup_state', '!=', 'oncamp')]}">>
							<field name="canteen_ids" context="{'default_participant_id': id}">
								<tree editable="bottom">
									<field name="date_from"/>
									<field name="date_to"/>
									<field name="eat_at"/>
									<field name="canteen_id" attrs="{'readonly': [('eat_at', '!=', 'canteen')], 'required': [('eat_at', '=', 'canteen')]}" options="{'no_create': True, 'no_open': True}"/>/>
									<field name="registration_id" string="Group" attrs="{'readonly': [('eat_at', '!=', 'group')], 'required': [('eat_at', '=', 'group')]}" options="{'no_create': True, 'no_open': True}"/>
									<field name="state" readonly="1"/>
								</tree>
							</field>
						
            			
            			</page>
            			<page string="Transportation" attrs="{'invisible': [('signup_state', '!=', 'oncamp')]}">>
            				<group>
            					<field name="transport_to_camp"/>
            					<field name="transport_from_camp"/>
            				</group>
            			</page>
						<page string="Special needs" attrs="{'invisible': [('signup_state', '!=', 'oncamp')]}">>
									<group>
										<field name="need_ids" widget="many2many_tags" options="{'no_create': True}" domain="[('for_staff', '=', True)]"/>
										<field name="other_need"/>
										<field name="other_need_description" attrs="{'invisible': [('other_need', '=', False)]}"/>
										<field name="other_need_update_date" invisible="1"/>
									</group>
						</page>
						<page string="Payment" attrs="{'invisible': [('signup_state', '!=', 'oncamp')]}">>
									<group>
										<field name="registration_id" attrs="{'readonly': [('payreq_state', '=', 'approved')]}"/>
										<field name="payreq_state"/>
										<feild name="payreq_approved_date" readonly="1"/>
										<field name="payreq_approved_user_id" readonly="1"/>
						      		</group>
						 </page>
            		</notebook>		
            	</page>
            </page>
        </field>
    </record>




</data>
</openerp>
